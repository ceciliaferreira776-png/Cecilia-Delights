<!doctype html>
<html lang="pt" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Menu Interativo</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    body { box-sizing: border-box; }
    .font-display { font-family: 'Playfair Display', serif; }
    .font-body { font-family: 'Raleway', sans-serif; }

    .tab {
      padding: 0.75rem 1.25rem;
      border-radius: 9999px;
      background: #f5e6f0;
      color: #1a1a2e;
      font-weight: 500;
      white-space: nowrap;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .tab:hover { background: #f0cfe0; }
    .tab.active { background: linear-gradient(135deg, #d4478b 0%, #c7357e 100%); color: white; }

    .menu-item { transition: all .3s ease; }
    .menu-item:hover { transform: translateX(8px); cursor: pointer; }

    .order-item { animation: slideIn .3s ease-out; }
    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-10px); }
      to { opacity: 1; transform: translateX(0); }
    }

    #checkout-btn {
      background: #25D366;
      color: white;
      font-weight: bold;
      padding: 0.75rem 1.5rem;
      border-radius: 9999px;
      width: 100%;
      margin-top: 1rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    #checkout-btn:hover { background: #1ebe57; }
  </style>
</head>

<body class="h-full font-body bg-[#faf9f7]">

<header class="sticky top-0 bg-white/90 backdrop-blur border-b z-20">
  <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
    <div>
      <h1 id="bakery-name" class="font-display text-3xl font-bold text-pink-600">
        Cecília Delights
      </h1>
      <p id="tagline" class="text-sm uppercase tracking-widest text-pink-300">
        Doçura Artesanal
      </p>
    </div>
    <div class="text-right">
      <p class="text-xs uppercase">Seu Pedido</p>
      <p id="order-total" class="font-display text-xl font-bold text-pink-600">
        KZ0
      </p>
    </div>
  </div>
</header>

<main class="max-w-6xl mx-auto px-4 py-6 flex gap-6">

  <!-- MENU -->
  <section class="flex-1">
    <div class="flex gap-2 mb-6 overflow-x-auto">
      <div onclick="setCategory('bolos')" id="tab-bolos" class="tab active">Bolos</div>
      <div onclick="setCategory('fatias')" id="tab-fatias" class="tab">Fatias</div>
      <div onclick="setCategory('massas')" id="tab-massas" class="tab">Massas</div>
      <div onclick="setCategory('coberturas')" id="tab-coberturas" class="tab">Coberturas</div>
      <div onclick="setCategory('biscoitos')" id="tab-biscoitos" class="tab">Biscoitos</div>
      <div onclick="setCategory('bolasBerlim')" id="tab-bolasBerlim" class="tab">Bolas Berlim</div>
      <div onclick="setCategory('salgados')" id="tab-salgados" class="tab">Salgados</div>
    </div>

    <div id="menu-container" class="space-y-3"></div>
  </section>

  <!-- RESUMO -->
  <aside class="w-80 bg-white rounded-xl shadow p-4 flex flex-col">
    <h2 class="font-display text-lg mb-4">Resumo do Pedido</h2>
    <div id="order-items" class="flex-1 overflow-y-auto">
      <p class="text-gray-400 text-sm text-center">Selecione itens do menu</p>
    </div>
    <div class="mt-4 flex justify-between font-bold">
      <span>Total</span>
      <span id="sidebar-total" class="text-pink-600">KZ0</span>
    </div>
    <div id="checkout-btn" onclick="checkout()">Enviar Pedido via WhatsApp</div>
  </aside>

</main>

<!-- MODAL -->
<div id="modal" class="fixed inset-0 hidden bg-black/50 flex items-center justify-center z-50">
  <div class="bg-white rounded-xl w-full max-w-lg p-6">
    <h3 id="modal-title" class="font-display text-xl mb-2"></h3>
    <p id="modal-description" class="text-sm text-gray-500 mb-4"></p>

    <textarea id="special-notes" class="w-full border p-2 rounded mb-4" placeholder="Observações"></textarea>

    <div class="flex justify-between items-center mb-4">
      <span>Subtotal</span>
      <span id="modal-subtotal" class="font-bold text-pink-600">KZ0</span>
    </div>

    <div class="flex gap-2">
      <button onclick="closeModal()" class="flex-1 border rounded py-2">Cancelar</button>
      <button onclick="addToOrder()" class="flex-1 bg-pink-600 text-white rounded py-2">
        Adicionar
      </button>
    </div>
  </div>
</div>

<script>
/* =======================
   DADOS DO MENU
======================= */
const menuData = {
  bolos: {
    color: '#d4478b',
    items: [
      { id: 'b1', name: 'Bolo Chocolate Premium', description: 'Chocolate belga', price: 17000 },
      { id: 'b2', name: 'Bolo Branco Clássico', description: 'Baunilha', price: 14000 },
      { id: 'b3', name: 'Bolo Red Velvet', description: 'Cobertura de chocolate', price: 19000 },
      { id: 'b4', name: 'Bolo Simples', description: 'Massa branca', price: 10000 },
      { id: 'b5', name: 'Bolo de chocolate', description: 'Massa de chocolate', price: 14000 }
    ]
  },
  fatias: {
    color: '#f5a3c7',
    items: [
      { id: 'f1', name: 'Fatia Chocolate Composta', description: 'Recheio de brigadeiro de chocolate e leite ninho', price: 3500 },
      { id: 'f2', name: 'Fatia Bolo Branco Clássico', description: 'Cobertura Baunilha', price: 3500 },
      { id: 'f3', name: 'Fatia Bolo Cenoura', description: 'Cobertura de Chocolate', price: 3500 },
      { id: 'f4', name: 'Fatia Red Velvet', description: 'Cobertura de Chocolate', price: 3500 }
    ]
  },
  biscoitos: {
    color: '#f7c6de',
    items: [
      { id: 'bi1', name: 'Biscoito Manteiga', description: 'Clássico', price: 4500 }
    ]
  },
  bolasBerlim: {
    color: '#ff88aa',
    items: [
      { id: 'bb1', name: 'Bola de Berlim', description: 'Creme', price: 3200 }
    ]
  },
  salgados: {
    color: '#e8b4cc',
    items: [
      { id: 'sa1', name: 'Coxinha', description: 'Frango', price: 2500 }
    ]
  }
};

/* =======================
   ESTADO
======================= */
let currentCategory = 'bolos';
let currentItem = null;
let orderItems = [];

/* =======================
   FUNÇÕES
======================= */
function renderMenu() {
  const container = document.getElementById('menu-container');
  const category = menuData[currentCategory];

  container.innerHTML = category.items.map(item => `
    <div class="menu-item bg-white p-4 rounded shadow"
         onclick="openModal('${item.id}')">
      <h3 class="font-display font-bold">${item.name}</h3>
      <p class="text-sm text-gray-500">${item.description}</p>
      <p class="font-bold text-pink-600 mt-2">KZ${item.price}</p>
    </div>
  `).join('');
}

function setCategory(cat) {
  currentCategory = cat;

  document.querySelectorAll('.tab').forEach(btn => btn.classList.remove('active'));
  document.getElementById(`tab-${cat}`).classList.add('active');

  renderMenu();
}

function openModal(id) {
  const item = menuData[currentCategory].items.find(i => i.id === id);
  currentItem = item;

  document.getElementById('modal-title').textContent = item.name;
  document.getElementById('modal-description').textContent = item.description;
  document.getElementById('modal-subtotal').textContent = `KZ${item.price}`;
  document.getElementById('modal').classList.remove('hidden');
}

function closeModal() {
  document.getElementById('modal').classList.add('hidden');
}

function addToOrder() {
  const notes = document.getElementById('special-notes').value;
  orderItems.push({...currentItem, notes});
  updateOrder();
  closeModal();
}

function updateOrder() {
  const container = document.getElementById('order-items');
  let total = 0;

  if(orderItems.length === 0) {
    container.innerHTML = `<p class="text-gray-400 text-sm text-center">Selecione itens do menu</p>`;
  } else {
    container.innerHTML = orderItems.map(item => {
      total += item.price;
      return `<p>${item.name} - KZ${item.price}${item.notes ? ` (Obs: ${item.notes})` : ''}</p>`;
    }).join('');
  }

  document.getElementById('order-total').textContent = `KZ${total}`;
  document.getElementById('sidebar-total').textContent = `KZ${total}`;
}

/* =======================
   FUNÇÃO WHATSAPP
======================= */
function checkout() {
  if(orderItems.length === 0){
    alert("Seu carrinho está vazio!");
    return;
  }

  let message = "Olá! Gostaria de fazer o seguinte pedido:%0A";
  orderItems.forEach(item => {
    message += `- ${item.name} = KZ${item.price}`;
    if(item.notes) message += ` (Obs: ${item.notes})`;
    message += "%0A";
  });

  const total = orderItems.reduce((sum, item) => sum + item.price, 0);
  message += `%0ATotal: KZ${total}`;

  const phoneNumber = "244936462880"; // substitua pelo seu número
  const url = `https://wa.me/${phoneNumber}?text=${message}`;

  window.open(url, "_blank");
}

/* =======================
   INICIALIZAÇÃO
======================= */
renderMenu();
</script>

</body>
</html>
